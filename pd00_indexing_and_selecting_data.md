from https://pandas.pydata.org/docs/user_guide/indexing.html

## basic
* **0000** Creating a DataFrame with random values
```python
>>> import pandas as pd
>>> import numpy as np
>>> df = pd.DataFrame(np.random.randn(10, 4), columns = ['A', 'B', 'C', 'D'])
>>> 
>>> 
>>> df
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
1  0.170321  1.653240 -2.319849  0.826131
2  1.112327  0.552911 -1.823077 -0.926909
3 -1.065037  0.741759  0.767781  0.974165
4  0.359868 -0.324521  1.207884  1.243067
5 -0.841062  1.392035  1.187359  0.867398
6 -0.714566  1.244894 -0.700888 -0.352165
7  0.441353 -0.556899 -0.029061  0.113811
8 -0.003109  1.042581  1.358627  0.642984
9 -0.234305 -1.125233  0.119416 -1.311833
```

* **0001** Copying a DataFrame from another
```python
>>> df2 = df.copy()
>>> df2
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
1  0.170321  1.653240 -2.319849  0.826131
2  1.112327  0.552911 -1.823077 -0.926909
3 -1.065037  0.741759  0.767781  0.974165
4  0.359868 -0.324521  1.207884  1.243067
5 -0.841062  1.392035  1.187359  0.867398
6 -0.714566  1.244894 -0.700888 -0.352165
7  0.441353 -0.556899 -0.029061  0.113811
8 -0.003109  1.042581  1.358627  0.642984
9 -0.234305 -1.125233  0.119416 -1.311833
```

## setting and getting index
* **0002** setting column index
```python
>>> df3.columns = ['aa', 'bb', 'cc', 'dd']
>>> df3
         aa        bb        cc        dd
0  0.256506  1.808062 -2.497204 -0.001156
1  0.170321  1.653240 -2.319849  0.826131
2  1.112327  0.552911 -1.823077 -0.926909
3 -1.065037  0.741759  0.767781  0.974165
4  0.359868 -0.324521  1.207884  1.243067
5 -0.841062  1.392035  1.187359  0.867398
6 -0.714566  1.244894 -0.700888 -0.352165
7  0.441353 -0.556899 -0.029061  0.113811
8 -0.003109  1.042581  1.358627  0.642984
9 -0.234305 -1.125233  0.119416 -1.311833
```

* **0003** setting row index
```python
>>> df3.index = [i * i for i in range(10)]
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
1   0.170321  1.653240 -2.319849  0.826131
4   1.112327  0.552911 -1.823077 -0.926909
9  -1.065037  0.741759  0.767781  0.974165
16  0.359868 -0.324521  1.207884  1.243067
25 -0.841062  1.392035  1.187359  0.867398
36 -0.714566  1.244894 -0.700888 -0.352165
49  0.441353 -0.556899 -0.029061  0.113811
64 -0.003109  1.042581  1.358627  0.642984
81 -0.234305 -1.125233  0.119416 -1.311833
```

* **0004** getting column index
```python
>>> df3.columns
Index(['A', 'B', 'C', 'D'], dtype='object')
>>> df3
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
1  0.170321  1.653240 -2.319849  0.826131
2  1.112327  0.552911 -1.823077 -0.926909
3 -1.065037  0.741759  0.767781  0.974165
4  0.359868 -0.324521  1.207884  1.243067
5 -0.841062  1.392035  1.187359  0.867398
6 -0.714566  1.244894 -0.700888 -0.352165
7  0.441353 -0.556899 -0.029061  0.113811
8 -0.003109  1.042581  1.358627  0.642984
9 -0.234305 -1.125233  0.119416 -1.311833
>>> list(df3.columns)
['A', 'B', 'C', 'D']
```

* **0005** getting row index
```python
>>> df3.index
RangeIndex(start=0, stop=10, step=1)
>>> list(df3.index)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> df3
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
1  0.170321  1.653240 -2.319849  0.826131
2  1.112327  0.552911 -1.823077 -0.926909
3 -1.065037  0.741759  0.767781  0.974165
4  0.359868 -0.324521  1.207884  1.243067
5 -0.841062  1.392035  1.187359  0.867398
6 -0.714566  1.244894 -0.700888 -0.352165
7  0.441353 -0.556899 -0.029061  0.113811
8 -0.003109  1.042581  1.358627  0.642984
9 -0.234305 -1.125233  0.119416 -1.311833
```

## selecting range of dataset
* **0006** selecting a single row or column
```python
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3['C']
0    -2.497204
2    -2.319849
6    -1.823077
12    0.767781
20    1.207884
30    1.187359
42   -0.700888
56   -0.029061
72    1.358627
90    0.119416
Name: C, dtype: float64
>>> df3.loc[6]
A    1.112327
B    0.552911
C   -1.823077
D   -0.926909
Name: 6, dtype: float64
>>> df3.iloc[6]
A   -0.714566
B    1.244894
C   -0.700888
D   -0.352165
Name: 42, dtype: float64
```

* **0007** selecting multiple rows or columns
```python
>>> df3[['A', 'C']]
           A         C
0   0.256506 -2.497204
2   0.170321 -2.319849
6   1.112327 -1.823077
12 -1.065037  0.767781
20  0.359868  1.207884
30 -0.841062  1.187359
42 -0.714566 -0.700888
56  0.441353 -0.029061
72 -0.003109  1.358627
90 -0.234305  0.119416
>>> df3.loc[[2, 12, 20]]
           A         B         C         D
2   0.170321  1.653240 -2.319849  0.826131
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
>>> df3.iloc[[3, 4, 9]]
           A         B         C         D
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
90 -0.234305 -1.125233  0.119416 -1.311833
```

* **0008** selecting a cell
```python
>>> df3['A'].loc[2]
0.17032134972453744
>>> df3['A'].iloc[2]
1.1123267269730344
>>> df3.loc[2]['A']
0.17032134972453744
>>> df3.iloc[2]['A']
1.1123267269730344
```

* **0009** selecting multiple cells
```python
>>> df3[['A', 'C']].loc[2]
A    0.170321
C   -2.319849
Name: 2, dtype: float64
>>> df3[['A', 'C']].iloc[2]
A    1.112327
C   -1.823077
Name: 6, dtype: float64
>>> df3[['A', 'C']].loc[[12, 30]]
           A         C
12 -1.065037  0.767781
30 -0.841062  1.187359
>>> df3[['A', 'C']].iloc[[4, 5]]
           A         C
20  0.359868  1.207884
30 -0.841062  1.187359
```

* **0010** selecting range (row)
```python
>>> df3.iloc[2:]
           A         B         C         D
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3.loc[50:]
           A         B         C         D
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3.iloc[4:7]
           A         B         C         D
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
>>> df3.loc[:10]
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
2  0.170321  1.653240 -2.319849  0.826131
6  1.112327  0.552911 -1.823077 -0.926909
```

* **0011** selecting range (column, using ```iloc```)
```python
>>> df3.iloc[:6, 1:3]
           B         C
0   1.808062 -2.497204
2   1.653240 -2.319849
6   0.552911 -1.823077
12  0.741759  0.767781
20 -0.324521  1.207884
30  1.392035  1.187359
>>> df3.iloc[:, 2:]
           C         D
0  -2.497204 -0.001156
2  -2.319849  0.826131
6  -1.823077 -0.926909
12  0.767781  0.974165
20  1.207884  1.243067
30  1.187359  0.867398
42 -0.700888 -0.352165
56 -0.029061  0.113811
72  1.358627  0.642984
90  0.119416 -1.311833
>>> df3.iloc[5:7, 1:]
           B         C         D
30  1.392035  1.187359  0.867398
42  1.244894 -0.700888 -0.352165
>>> df3.iloc[[2, 4, 8], 2:]
           C         D
6  -1.823077 -0.926909
20  1.207884  1.243067
72  1.358627  0.642984
>>> df3.iloc[[2, 4, 8], [0, 1, 3]]
           A         B         D
6   1.112327  0.552911 -0.926909
20  0.359868 -0.324521  1.243067
72 -0.003109  1.042581  0.642984
>>> df3.iloc[3:6, :]
           A         B         C         D
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
```

## selecting rows by conditions (basic)
* **0012** selecting rows by callable
```python
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3.loc[lambda x: x['A'] > 0, :]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
20  0.359868 -0.324521  1.207884  1.243067
56  0.441353 -0.556899 -0.029061  0.113811
>>> df3.loc[lambda x: x['A'] + x['B'] > 1, :]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
72 -0.003109  1.042581  1.358627  0.642984
>>> df3.loc[lambda x: x['A'] * x['B'] > 0, :]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
90 -0.234305 -1.125233  0.119416 -1.311833
```

* **0013** selecting rows by callable + columns
```python
>>> df3.loc[lambda x: x['A'] * x['B'] > 0.25, ['A', 'C']]
           A         C
0   0.256506 -2.497204
2   0.170321 -2.319849
6   1.112327 -1.823077
90 -0.234305  0.119416
>>> df3.loc[lambda x: x['C'] > 0.5, ['B']]
           B
12  0.741759
20 -0.324521
30  1.392035
72  1.042581
>>> df3.loc[lambda x: x['C'] > 0.5, 'B']
12    0.741759
20   -0.324521
30    1.392035
72    1.042581
Name: B, dtype: float64
```

* **0014** simpler version of **0013**
```python
>>> df3[df3['A'] > 0]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
20  0.359868 -0.324521  1.207884  1.243067
56  0.441353 -0.556899 -0.029061  0.113811
>>> df3[df3['A'] + df3['B'] > 1]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
72 -0.003109  1.042581  1.358627  0.642984
>>> df3[df3['C'] > 0.5]['B']
12    0.741759
20   -0.324521
30    1.392035
72    1.042581
Name: B, dtype: float64
>>> df3[df3['C'] > 0.5][['B']]
           B
12  0.741759
20 -0.324521
30  1.392035
72  1.042581
>>> df3[df3['C'] > 0.5][['B', 'D']]
           B         D
12  0.741759  0.974165
20 -0.324521  1.243067
30  1.392035  0.867398
72  1.042581  0.642984
```

* **0015** selecting rows from a ```Series```
```python
>>> col_a = df3['A']
>>> col_a
0     0.256506
2     0.170321
6     1.112327
12   -1.065037
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
>>> col_a[col_a > 0]
0     0.256506
2     0.170321
6     1.112327
20    0.359868
56    0.441353
Name: A, dtype: float64
>>> col_a[col_a * col_a > 0.5]
6     1.112327
12   -1.065037
30   -0.841062
42   -0.714566
Name: A, dtype: float64
```

* **0016** selecting rows with ```NOT``` conditions
```python
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3[~(abs(df3['A']) >= 0.5)]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
20  0.359868 -0.324521  1.207884  1.243067
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3[~(df3['B'] + df3['C'] < 0.5)]
           A         B         C         D
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
72 -0.003109  1.042581  1.358627  0.642984
>>> col_a[~(col_a < 0.3)]
6     1.112327
20    0.359868
56    0.441353
Name: A, dtype: float64
>>> col_a[~(col_a * col_a >= 0.2)]
0     0.256506
2     0.170321
20    0.359868
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
```

* **0017** selecting rows with ```AND``` and ```OR``` conditions
```python
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> df3[(df3['A'] >= 0.2) & (df3['B'] >= 0.2)]
          A         B         C         D
0  0.256506  1.808062 -2.497204 -0.001156
6  1.112327  0.552911 -1.823077 -0.926909
>>> df3[(df3['A'] >= 0.2) | (df3['B'] >= 0.2)]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
>>> col_a
0     0.256506
2     0.170321
6     1.112327
12   -1.065037
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
>>> col_a[(col_a >= 0.2) | (col_a < -0.75)]
0     0.256506
6     1.112327
12   -1.065037
20    0.359868
30   -0.841062
56    0.441353
Name: A, dtype: float64
>>> col_a[(col_a >= 0.25) & (col_a < 1)]
0     0.256506
20    0.359868
56    0.441353
Name: A, dtype: float64
```

## selecting rows by conditions (advanced)
* **0018** selecting rows with ```map```
```python
>>> df3
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
56  0.441353 -0.556899 -0.029061  0.113811
72 -0.003109  1.042581  1.358627  0.642984
90 -0.234305 -1.125233  0.119416 -1.311833
>>> criterion = df3['C'].map(lambda x: int(x) == 1)
>>> df3[criterion]
           A         B         C         D
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
72 -0.003109  1.042581  1.358627  0.642984
>>> col_a
0     0.256506
2     0.170321
6     1.112327
12   -1.065037
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
>>> criterion = col_a.map(lambda x: int(x) % 2 == 0)
>>> col_a[criterion]
0     0.256506
2     0.170321
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
```

* **0019** selecting rows with ```map``` and additional conditions
```python
>>> criterion = df3['C'].map(lambda x: int(x) == 1)
>>> df3[criterion]
           A         B         C         D
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
72 -0.003109  1.042581  1.358627  0.642984
>>> df3[criterion & (df3['B'] >= 0)]
           A         B         C         D
30 -0.841062  1.392035  1.187359  0.867398
72 -0.003109  1.042581  1.358627  0.642984
>>> df3[criterion | (df3['B'] >= 0)]
           A         B         C         D
0   0.256506  1.808062 -2.497204 -0.001156
2   0.170321  1.653240 -2.319849  0.826131
6   1.112327  0.552911 -1.823077 -0.926909
12 -1.065037  0.741759  0.767781  0.974165
20  0.359868 -0.324521  1.207884  1.243067
30 -0.841062  1.392035  1.187359  0.867398
42 -0.714566  1.244894 -0.700888 -0.352165
72 -0.003109  1.042581  1.358627  0.642984
>>> criterion = col_a.map(lambda x: int(x) % 2 == 0)
>>> col_a[criterion]
0     0.256506
2     0.170321
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
>>> col_a[criterion & (abs(col_a) < 0.5)]
0     0.256506
2     0.170321
20    0.359868
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
>>> col_a[criterion | (col_a >= 0.5)]
0     0.256506
2     0.170321
6     1.112327
20    0.359868
30   -0.841062
42   -0.714566
56    0.441353
72   -0.003109
90   -0.234305
Name: A, dtype: float64
```

* **0020** check if the value is in an array
```python
>>> df
   0  1  2  3
0  9  6  5  6
1  6  0  4  6
2  2  1  7  5
3  8  8  4  1
4  4  0  5  3
5  1  1  4  1
6  3  1  7  1
7  6  8  2  7
8  6  7  1  7
9  6  3  9  4
>>> df.isin([2, 3, 5, 7])
       0      1      2      3
0  False  False   True  False
1  False  False  False  False
2   True  False   True   True
3  False  False  False  False
4  False  False   True   True
5  False  False  False  False
6   True  False   True  False
7  False  False   True   True
8  False   True  False   True
9  False   True  False  False
```

* **0021** selecting rows with ```isin```
```python
>>> df[df[0].isin([3, 6])]
   0  1  2  3
1  6  0  4  6
6  3  1  7  1
7  6  8  2  7
8  6  7  1  7
9  6  3  9  4
>>> df[df[0].isin([3, 6]) | df[1].isin([1, 2])]
   0  1  2  3
1  6  0  4  6
2  2  1  7  5
5  1  1  4  1
6  3  1  7  1
7  6  8  2  7
8  6  7  1  7
9  6  3  9  4
>>> df[df[0].isin([3, 6]) & df[1].isin([1, 2])]
   0  1  2  3
6  3  1  7  1
```

* **0022** selecting rows with ```isin``` (for index)
```python
>>> df[df.index.isin([25, 36, 49])]
    0  1  2  3
25  1  1  4  1
36  3  1  7  1
49  6  8  2  7
>>> df[df.index.isin([25, 36, 49]) | df[0].isin([3, 5, 7])]
    0  1  2  3
25  1  1  4  1
36  3  1  7  1
49  6  8  2  7
>>> df[df.index.isin([25, 36, 49]) | df[0].isin([4, 6, 8])]
    0  1  2  3
1   6  0  4  6
9   8  8  4  1
16  4  0  5  3
25  1  1  4  1
36  3  1  7  1
49  6  8  2  7
64  6  7  1  7
81  6  3  9  4
```

* **0023** selecting rows with ```isin``` (advanced)
```python
>>> values = {0: [2, 4, 6, 8], 1: [1, 3, 5, 7]}
>>> df.isin(values)
        0      1      2      3
0   False  False  False  False
1    True  False  False  False
4    True   True  False  False
9    True  False  False  False
16   True  False  False  False
25  False   True  False  False
36  False   True  False  False
49   True  False  False  False
64   True   True  False  False
81   True   True  False  False
>>> row_mask_1 = df.isin(values).any(1)
>>> df[row_mask_1]
    0  1  2  3
1   6  0  4  6
4   2  1  7  5
9   8  8  4  1
16  4  0  5  3
25  1  1  4  1
36  3  1  7  1
49  6  8  2  7
64  6  7  1  7
81  6  3  9  4
>>> values = {0: [2, 4, 6, 8], 1: [1, 3, 5, 7], 2: list(range(10)), 3: list(range(10))}
>>> row_mask_0 = df.isin(values).all(1)
>>> df[row_mask_0]
    0  1  2  3
4   2  1  7  5
64  6  7  1  7
81  6  3  9  4
```
